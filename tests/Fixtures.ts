import { BigNumber } from 'bignumber.js'

export const keystore1 = `{"encSeed":{"encStr":"I4qBGJUmpzHUQoVRMkjMEAqGusa4oI7HEG7SQMYPO31OIH+UlFtEDGfOuADzFYsfHKMbImJIOnhEg5z3VzvnndRlV9V9zHjbPgOysoMkF0K3ZR7DtamiBhk2CW3s8gx9Y2liECI03gOzz2Z51/jFLtDVrKs8HaF+ao4AnpmBZ9BgmX1F2fcZvA==","nonce":"nToBO+VpArhjS3PtICUBpjpc5cEDcmQ0"},"encHdRootPriv":{"encStr":"MMfdnPGEYRuPvOGaZvjrqHkrC+QT+GYSk1Nj1n76BbGjx3Kv37Rptb74wEcL7oRsBDJDHN1fLbeeXdwW6ZoGZaGnB8K+mdNBq+84PMGyfs/pvEQ4b81mPYP/Nw/Lgy8MwvSnwqupI8ZtA67zBDSSTWaQ1qN16Y4CID2SUEaJtQ==","nonce":"Tdsr0BdTZxaP655dmg1l14g8HdF3nTcl"},"addresses":["f8e191d2cd72ff35cb8f012685a29b31996614ea"],"encPrivKeys":{"f8e191d2cd72ff35cb8f012685a29b31996614ea":{"key":"of9sXYDnUtDeO8x3XYS50NN3XtyKXIvgNlfH773sbQAbqvUHqzmKRnMsb45Vlgup","nonce":"dfinYhD8qUzMM9KyK5fpnUmEh1hrEQDE"}},"hdPathString":"m/44\'/60\'/0\'/0","salt":"Wz3bQi0l8ZMncTBB5qTNjXS/uneTMZakQsVrA7Eo9YM=","hdIndex":1,"version":3}`

export const keystore2 = `{"encSeed":{"encStr":"UJrWA2ZaPF6lnWVktF/VjtLFJ3EZRpmhaw/wWMxMpNIxllyslNFtPSO4fWCn5v5hXqbjD9cCCWoRFYhKeXUsp2bN4uU6TJbQfGEtpT4ptOmoo4TJKbZNdIYq4ldDh7LidayT49zd+0+Qo4/ZP8Kj4NVQO7BaqkZgUhv41gr68nMWErecZhBXNQ==","nonce":"iJpRWz6rlhWlV0EF/Ig4/nvYmBq1H5II"},"ksData":{"m/44'/60'/0'/0":{"info":{"curve":"secp256k1","purpose":"sign"},"encHdPathPriv":{"encStr":"iXJJHp3vDwQOeBkhcmp6+4B7NGnf4CYxBRRYOk2DxZEz0SSJM0F1woJn1rQi3nRVdxFoUfVXEhUHr3Nkw+4B+jGX0LWjG81DkJ9ovSe/3BMSkXyUwFyZgyOLFinLrMH22uJ7BT0l9h5e9plLTzjsvLk+7q8YrKgylGt/6flFKA==","nonce":"0wLXvs0gppLxHMpOAnX/kQkTnNCL5467"},"hdIndex":1,"encPrivKeys":{"ce2d6f8bc55a61428d32947bc9bc7f2de1640b18":{"key":"t4pBsWrvJx3Zn/msrNAmJuH7btIawqhTUasDl12evPBcG3eKoljEyJF5dG3N5QOK","nonce":"du/KqEumtY9nbxT5Zs23i8zi5AterRTY"}},"addresses":["ce2d6f8bc55a61428d32947bc9bc7f2de1640b18"]},"m/44'/60'/0'/1":{"info":{"curve":"curve25519","purpose":"asymEncrypt"},"encHdPathPriv":{"encStr":"eqNBlf119aaDQRTCWW14OJtvTba7EkaFEw30BuXHvNG61h/0e9qC59sF1TvNqSg2fhWFzWN7Z9WJd5f+Yy6dq6487goJuc/UhI99wlvHhG+p7mIsSfP5QayV1U2XZv+JTHbU3nfRs91dhzIhc4j3lUySbm3pfmEPnqaxoCHe9A==","nonce":"52IHSj2WeHDWyqazIaeBrMnClAyFk4Ut"},"hdIndex":1,"encPrivKeys":{"423b6f895e9eda6dff738c9e572b17dd76db460564b71a9eef864ac89930eb77":{"key":"db4QvXmmb/Rk/xaVHurnAhjEzWn+KNeLo/y92j/ffG3a1slJu27CWsIVMfCKAKNT","nonce":"IHnuBp4VDGl4wR7zJ5ikdG6OqTQFMH4b"}},"pubKeys":["423b6f895e9eda6dff738c9e572b17dd76db460564b71a9eef864ac89930eb77"]}},"encHdRootPriv":{"encStr":"rIUuzH9VunRl3TzfsmDhOqFd8s083i+2rTeRBOTIm6sRVTSlwPmFnpLXLZji60mzGBkUpmcYvV7t10EA/UyT3pBVC+D+9KrWLT9GieTAJIEYryJUBFXr05OSBOziSOcTBp8a1LEFkvrgUuApqLmsHN3j+VDyZIOXsiHqR67ofg==","nonce":"Clkz0qaQ8YIUf8EaicZq8S5AfHz4o2vQ"},"salt":"jICGZMaFF14gIhzmxG/twe/et3UpMhHfH0cYxGPljXg=","version":2}`

export const keystore3 =
  '{"encSeed":{"encStr":"eEM0n29iCxQIm67Xt5XQseVllcfNEX1PTV5COHBxaUlmyOASd8jmTRjB1ruItlUqB0+T758EQz1oCgRfW6oluGI2SEF5liaNf4ku2wqpgMMJX3xKhiCQ4oeSEAM/SfmZ/TQ4S+14crRgsZxS8fDdu2G8uOT6DWJ3LpOY3aKW34BIA5YepfjrFg==","nonce":"Wsc2oXdrXX/LSbZ4n6pciSHd+MPJ5eeN"},"encHdRootPriv":{"encStr":"qHQ6BXF6SZoku0++cPMfG3/cOmqR+Zzk95CCk0vnMUluvbIaqEK+wN4Sc0trcnUmIOoOtFrO15lgJETMcjB/nHBLAmSdeVH92rLBB5GIMA2AHXf4GYXETgl/Z8rq6Rm3GvqLFKwghewFspvgV5Ykjritd7/yajxsSKye7DcW1Q==","nonce":"9MfuGFodFQP9fmD3+OUz9oKCURDd16r/"},"addresses":["c7d6401b81a2f70c5906e8a6fbebe680c69fa03d"],"encPrivKeys":{"c7d6401b81a2f70c5906e8a6fbebe680c69fa03d":{"key":"nrum/qp+I6oF+AypB/6xVDdbmH7S4plVf3VxSCmRwiz8rF3HDyLwafYh3Hur4foC","nonce":"/HC96G1H5OCXCJSPN5Z5Rq4++3d1C+TO"}},"hdPathString":"m/44\'/60\'/0\'/0","salt":"pXfIg1o/mPRVUwiXBkYnl0WpJfu4oRqi61rjZx1SfNY=","hdIndex":1,"version":3}'

export const config = {
  host: process.env.RELAY_HOSTNAME || 'localhost',
  path: 'api/v1/',
  port: 5000,
  protocol: 'http'
}

export const user1 = {
  address: '0xf8E191d2cd72Ff35CB8F012685A29B31996614EA',
  keystore: keystore1,
  pubKey: 'a5da0d9516c483883256949c3cac6ed73e4eb50ca85f7bdc2f360bbbf9e2d472'
}

export const user2 = {
  address: '0xcE2D6f8bc55A61428D32947bC9Bc7F2DE1640B18',
  keystore: keystore2
}

export const user3 = {
  address: '0xc7D6401b81A2F70C5906e8A6FBEbE680c69fA03D',
  keystore: keystore3,
  pubKey: '3a1430b32ded788f4059ba31cbe6157ac8788f7198d4aed41e1091a97bff2857'
}

export function createUsers(tlInstances) {
  return Promise.all(tlInstances.map(tl => tl.user.create()))
}

export function requestEth(tlInstances) {
  return Promise.all(tlInstances.map(tl => tl.user.requestEth()))
}

export async function setTrustlines(networkAddress, tl1, tl2, given, received) {
  const [tx1, tx2] = await Promise.all([
    tl1.trustline.prepareUpdate(
      networkAddress,
      tl2.user.address,
      given,
      received
    ),
    tl2.trustline.prepareUpdate(
      networkAddress,
      tl1.user.address,
      received,
      given
    )
  ])
  await Promise.all([
    tl1.trustline.confirm(tx1.rawTx),
    tl2.trustline.confirm(tx2.rawTx)
  ])
  await wait()
  return
}

export function wait(ms = 2000) {
  return new Promise(resolve => setTimeout(() => resolve(), ms))
}

export const FAKE_NETWORK = {
  abbreviation: 'CASH',
  address: '0xf8E191d2cd72Ff35CB8F012685A29B31996614EA',
  customInterests: false,
  decimals: 2,
  defaultInterestRate: {
    decimals: 3,
    raw: '10',
    value: '0.01'
  },
  interestRateDecimals: 3,
  name: 'Cash',
  numUsers: 100
}

export const FAKE_USER_ADDRESSES = [
  '0xf8E191d2cd72Ff35CB8F012685A29B31996614EA',
  '0xcE2D6f8bc55A61428D32947bC9Bc7F2DE1640B18',
  '0xc7D6401b81A2F70C5906e8A6FBEbE680c69fA03D'
]

export const FAKE_AMOUNT = {
  decimals: 2,
  raw: '100',
  value: '1'
}

export const FAKE_USER = {
  balance: 100,
  given: 200,
  leftGiven: 100,
  leftReceived: 400,
  received: 300
}

export const FAKE_VALUE_TX_OBJECT_INTERNAL = {
  ethFees: {
    decimals: 18,
    raw: new BigNumber(1000000000000000000),
    value: new BigNumber(1)
  },
  rawTx: {
    from: '0xf8E191d2cd72Ff35CB8F012685A29B31996614EA',
    gasLimit: new BigNumber(6000000),
    gasPrice: new BigNumber(1000000),
    nonce: 100,
    to: '0xcE2D6f8bc55A61428D32947bC9Bc7F2DE1640B18',
    value: new BigNumber(1000000)
  }
}

export const FAKE_FUNC_TX_OBJECT_INTERNAL = {
  ethFees: {
    decimals: 18,
    raw: new BigNumber(1000000000000000000),
    value: new BigNumber(1)
  },
  rawTx: {
    from: '0xf8E191d2cd72Ff35CB8F012685A29B31996614EA',
    functionCallData: {
      abi: [
        {
          inputs: [
            {
              name: 'a',
              type: 'uint256'
            }
          ],
          name: 'foo',
          outputs: [],
          type: 'function'
        }
      ],
      args: [123445],
      functionName: 'foo'
    },
    gasLimit: new BigNumber(6000000),
    gasPrice: new BigNumber(1000000),
    nonce: 100,
    to: '0xcE2D6f8bc55A61428D32947bC9Bc7F2DE1640B18',
    value: new BigNumber(1000000)
  }
}

export const FAKE_TX_HASH =
  '0x9fc76417374aa880d4449a1f7f31ec597f00b1f6f3dd2d66f4c9c6c445836d8b'

export const FAKE_ACCOUNT = {
  address: '0xf8E191d2cd72Ff35CB8F012685A29B31996614EA',
  keystore: keystore1,
  pubKey: 'a5da0d9516c483883256949c3cac6ed73e4eb50ca85f7bdc2f360bbbf9e2d472'
}

export const FAKE_SIGNED_MSG_HASH = {
  concatSig: 'Fake concat signature',
  ecSignature: {
    r: '0x',
    s: '0x',
    v: 24
  }
}

export const FAKE_ENC_OBJECT = {
  asymAlg: 'Asym Algorithm',
  encryptedSymKey: 'Encrypted Symmetric Key',
  symAlg: 'Sym Algorithm',
  symEncMessage: 'Encrypted Message',
  symNonce: 'Sym Nonce',
  version: 1
}

export const FAKE_SEED =
  'mesh park casual casino sorry giraffe half shrug wool anger chef amateur'

export const FAKE_PRIVATE_KEY =
  '3a1076bf45ab87712ad64ccb3b10217737f7faacbf2872e88fdd9a537d8fe266'

export const FAKE_DECIMALS = {
  interestRateDecimals: 3,
  networkDecimals: 2
}

export const FAKE_TRANSFER_EVENT = {
  amount: '150',
  blockNumber: 123,
  counterParty: '0xf8E191d2cd72Ff35CB8F012685A29B31996614EA',
  direction: 'sent',
  from: '0xf8E191d2cd72Ff35CB8F012685A29B31996614EA',
  networkAddress: '0xf8E191d2cd72Ff35CB8F012685A29B31996614EA',
  status: 'pending',
  timestamp: 123456789,
  to: '0xf8E191d2cd72Ff35CB8F012685A29B31996614EA',
  transactionId:
    '0x9fc76417374aa880d4449a1f7f31ec597f00b1f6f3dd2d66f4c9c6c445836d8b',
  type: 'Transfer',
  user: '0xf8E191d2cd72Ff35CB8F012685A29B31996614EA'
}

export const FAKE_FORMATTED_TRANSFER_EVENT = {
  amount: {
    decimals: 2,
    raw: '123',
    value: '1.23'
  },
  blockNumber: 123,
  counterParty: '0xf8E191d2cd72Ff35CB8F012685A29B31996614EA',
  direction: 'sent',
  from: '0xf8E191d2cd72Ff35CB8F012685A29B31996614EA',
  networkAddress: '0xf8E191d2cd72Ff35CB8F012685A29B31996614EA',
  status: 'pending',
  timestamp: 123456789,
  to: '0xf8E191d2cd72Ff35CB8F012685A29B31996614EA',
  transactionId:
    '0x9fc76417374aa880d4449a1f7f31ec597f00b1f6f3dd2d66f4c9c6c445836d8b',
  type: 'Transfer',
  user: '0xf8E191d2cd72Ff35CB8F012685A29B31996614EA'
}

export const FAKE_TRUSTLINE_UPDATE_REQUEST_EVENT = {
  blockNumber: 123,
  counterParty: '0xf8E191d2cd72Ff35CB8F012685A29B31996614EA',
  direction: 'sent',
  from: '0xf8E191d2cd72Ff35CB8F012685A29B31996614EA',
  given: 100,
  interestRateGiven: 1,
  interestRateReceived: 1,
  networkAddress: '0xf8E191d2cd72Ff35CB8F012685A29B31996614EA',
  received: 200,
  status: 'pending',
  timestamp: 123456789,
  to: '0xf8E191d2cd72Ff35CB8F012685A29B31996614EA',
  transactionId:
    '0x9fc76417374aa880d4449a1f7f31ec597f00b1f6f3dd2d66f4c9c6c445836d8b',
  type: 'TrustlineUpdateRequest',
  user: '0xf8E191d2cd72Ff35CB8F012685A29B31996614EA'
}

export const FAKE_TRUSTLINE_UPDATE_EVENT = {
  blockNumber: 123,
  counterParty: '0xf8E191d2cd72Ff35CB8F012685A29B31996614EA',
  direction: 'sent',
  from: '0xf8E191d2cd72Ff35CB8F012685A29B31996614EA',
  given: 100,
  interestRateGiven: 1,
  interestRateReceived: 1,
  networkAddress: '0xf8E191d2cd72Ff35CB8F012685A29B31996614EA',
  received: 200,
  status: 'pending',
  timestamp: 123456789,
  to: '0xf8E191d2cd72Ff35CB8F012685A29B31996614EA',
  transactionId:
    '0x9fc76417374aa880d4449a1f7f31ec597f00b1f6f3dd2d66f4c9c6c445836d8b',
  type: 'TrustlineUpdate',
  user: '0xf8E191d2cd72Ff35CB8F012685A29B31996614EA'
}

export const FAKE_TOKEN_EVENT = {
  amount: '150',
  blockNumber: 123,
  counterParty: '0xf8E191d2cd72Ff35CB8F012685A29B31996614EA',
  direction: 'sent',
  from: '0xf8E191d2cd72Ff35CB8F012685A29B31996614EA',
  status: 'pending',
  timestamp: 123456789,
  to: '0xf8E191d2cd72Ff35CB8F012685A29B31996614EA',
  tokenAddress: '0xcE2D6f8bc55A61428D32947bC9Bc7F2DE1640B18',
  transactionId:
    '0x9fc76417374aa880d4449a1f7f31ec597f00b1f6f3dd2d66f4c9c6c445836d8b',
  type: 'Transfer',
  user: '0xf8E191d2cd72Ff35CB8F012685A29B31996614EA'
}

export const FAKE_FILL_EVENT = {
  blockNumber: 123,
  counterParty: '0xf8E191d2cd72Ff35CB8F012685A29B31996614EA',
  direction: 'sent',
  exchangeAddress: '0xc7D6401b81A2F70C5906e8A6FBEbE680c69fA03D',
  filledMakerAmount: '150',
  filledTakerAmount: '150',
  from: '0xf8E191d2cd72Ff35CB8F012685A29B31996614EA',
  makerTokenAddress: '0xf8E191d2cd72Ff35CB8F012685A29B31996614EA',
  status: 'pending',
  takerTokenAddress: '0xcE2D6f8bc55A61428D32947bC9Bc7F2DE1640B18',
  timestamp: 123456789,
  to: '0xf8E191d2cd72Ff35CB8F012685A29B31996614EA',
  transactionId:
    '0x9fc76417374aa880d4449a1f7f31ec597f00b1f6f3dd2d66f4c9c6c445836d8b',
  type: 'LogFill',
  user: '0xf8E191d2cd72Ff35CB8F012685A29B31996614EA'
}

export const FAKE_CANCEL_EVENT = {
  blockNumber: 123,
  cancelledMakerAmount: '150',
  cancelledTakerAmount: '150',
  counterParty: '0xf8E191d2cd72Ff35CB8F012685A29B31996614EA',
  direction: 'sent',
  exchangeAddress: '0xc7D6401b81A2F70C5906e8A6FBEbE680c69fA03D',
  from: '0xf8E191d2cd72Ff35CB8F012685A29B31996614EA',
  makerTokenAddress: '0xcE2D6f8bc55A61428D32947bC9Bc7F2DE1640B18',
  status: 'pending',
  takerTokenAddress: '0xf8E191d2cd72Ff35CB8F012685A29B31996614EA',
  timestamp: 123456789,
  to: '0xf8E191d2cd72Ff35CB8F012685A29B31996614EA',
  transactionId:
    '0x9fc76417374aa880d4449a1f7f31ec597f00b1f6f3dd2d66f4c9c6c445836d8b',
  type: 'LogCancel',
  user: '0xf8E191d2cd72Ff35CB8F012685A29B31996614EA'
}

export const FAKE_TX_INFOS = {
  gasLimit: '2000000',
  gasPrice: '2000000',
  nonce: 12
}

export const FAKE_TRUSTLINE = {
  address: '0xf8E191d2cd72Ff35CB8F012685A29B31996614EA',
  balance: '-100',
  given: '100',
  id: '123456798',
  interestRateGiven: '1',
  interestRateReceived: '1',
  leftGiven: '200',
  leftReceived: '0',
  received: '100'
}

export const FAKE_CLOSE_PATH_RAW = {
  estimatedGas: '6000000',
  fees: '1000000',
  path: ['0xf8E191d2cd72Ff35CB8F012685A29B31996614EA'],
  value: '123'
}

export const FAKE_RELAY_API = 'http://relay.network/api/v1'
